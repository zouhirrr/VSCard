<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qrestige vCard | Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
    <style>
        :root { --accent: #6366f1; --bg: #f8fafc; --sidebar: #ffffff; }
        * { box-sizing: border-box; font-family: 'Tajawal', sans-serif !important; }
        body { background: var(--bg); margin: 0; display: flex; height: 100vh; }

        /* Sidebar - Builder */
        .sidebar { width: 400px; background: var(--sidebar); border-left: 1px solid #e2e8f0; padding: 25px; overflow-y: auto; }
        .logo { font-weight: 900; font-size: 26px; color: #1e293b; margin-bottom: 30px; display: block; text-align: center; }
        
        .section-title { font-size: 11px; font-weight: 800; color: #94a3b8; text-transform: uppercase; margin: 20px 0 10px; }
        input, select { width: 100%; padding: 12px; border-radius: 10px; border: 1.5px solid #e2e8f0; margin-bottom: 10px; outline: none; }
        input:focus { border-color: var(--accent); }

        /* Viewer - Mobile Mockup */
        .viewer { flex: 1; display: flex; align-items: center; justify-content: center; gap: 40px; background: #edf2f7; }
        
        .phone-mockup {
            width: 320px; height: 600px; background: white; border: 12px solid #1e293b; border-radius: 45px;
            box-shadow: 0 40px 100px rgba(0,0,0,0.1); overflow-y: auto; position: relative;
        }
        .phone-header { height: 140px; background: var(--accent); position: relative; }
        .phone-avatar { 
            width: 90px; height: 90px; background: #cbd5e1; border-radius: 50%; 
            position: absolute; bottom: -45px; right: 50%; transform: translateX(50%);
            border: 4px solid white; object-fit: cover;
        }
        .phone-body { padding: 60px 20px 20px; text-align: center; }
        .name-txt { font-weight: 900; font-size: 22px; margin-bottom: 5px; }
        .title-txt { color: #64748b; font-size: 14px; margin-bottom: 25px; }
        .action-link { 
            display: flex; align-items: center; justify-content: center; 
            padding: 12px; background: #f1f5f9; border-radius: 12px; 
            margin-bottom: 10px; text-decoration: none; color: #1e293b; font-weight: 700;
        }

        /* QR Card */
        .qr-card { background: white; padding: 30px; border-radius: 30px; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
        .btn-save { background: #1e293b; color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 700; width: 100%; cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>

<aside class="sidebar">
    <span class="logo">Qrestige vCard</span>

    <div class="section-title">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</div>
    <input type="text" id="v-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" oninput="sync()">
    <input type="text" id="v-title" placeholder="Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ" oninput="sync()">
    <input type="tel" id="v-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨" oninput="sync()">
    <input type="text" id="v-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" oninput="sync()">

    <div class="section-title">ØªØ®ØµÙŠØµ Ø§Ù„ØªØµÙ…ÙŠÙ…</div>
    <div style="display:flex; gap:10px;">
        <input type="color" id="c1" value="#6366f1" oninput="sync()" style="height:50px;">
        <input type="color" id="c2" value="#4f46e5" oninput="sync()" style="height:50px;">
    </div>

    <div class="section-title">Ø´ÙƒÙ„ Ø§Ù„ÙƒÙˆØ¯ (Monkey Style)</div>
    <select id="dot-style" onchange="sync()">
        <option value="extra-rounded">Ù†Ù‚Ø§Ø· Ø¯Ø§Ø¦Ø±ÙŠØ©</option>
        <option value="square">Ù…Ø±Ø¨Ø¹Ø§Øª ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠØ©</option>
        <option value="dots">Ù†Ù‚Ø§Ø· ØµØºÙŠØ±Ø©</option>
    </select>

    <button class="btn-save" onclick="downloadPNG()">ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ PNG</button>
</aside>

<main class="viewer">
    <div class="phone-mockup">
        <div class="phone-header" id="header-bg">
            <img class="phone-avatar" id="avatar-img" src="https://via.placeholder.com/150">
        </div>
        <div class="phone-body">
            <div class="name-txt" id="name-prev">Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ</div>
            <div class="title-txt" id="title-prev">Ù…ØµÙ…Ù… ÙˆØ§Ø¬Ù‡Ø§Øª</div>
            
            <a href="#" class="action-link" id="wa-btn">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨ Ù…Ø¨Ø§Ø´Ø±</a>
            <a href="#" class="action-link" id="mail-btn">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a>
            <a href="#" class="action-link" style="background: #1e293b; color: white;">ğŸ“¥ Ø­ÙØ¸ ÙÙŠ Ø¬Ù‡Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</a>
        </div>
    </div>

    <div class="qr-card">
        <div id="qr-target"></div>
        <p style="font-weight: 900; margin-top: 15px;">ÙƒÙˆØ¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹</p>
    </div>
</main>

<script>
    const qr = new QRCodeStyling({
        width: 250, height: 250,
        dotsOptions: { type: "extra-rounded" },
        backgroundOptions: { color: "#ffffff" }
    });

    qr.append(document.getElementById("qr-target"));

    function sync() {
        const name = document.getElementById('v-name').value || "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ±ÙŠÙ…";
        const title = document.getElementById('v-title').value || "Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ";
        const c1 = document.getElementById('c1').value;
        const c2 = document.getElementById('c2').value;
        const dotStyle = document.getElementById('dot-style').value;

        // ØªØ­Ø¯ÙŠØ« Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ù‡Ø§ØªÙ
        document.getElementById('name-prev').innerText = name;
        document.getElementById('title-prev').innerText = title;
        document.getElementById('header-bg').style.background = `linear-gradient(45deg, ${c1}, ${c2})`;

        // ÙÙŠ Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©: Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ø³ÙŠÙƒÙˆÙ† Ø±Ø§Ø¨Ø· ØµÙØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø®Ø²Ù†Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ
        const demoLink = `https://qrestige.io/p/demo_user`;

        qr.update({
            data: demoLink,
            dotsOptions: { type: dotStyle, gradient: { type: "linear", colorStops: [{ offset: 0, color: c1 }, { offset: 1, color: c2 }] } },
            cornersSquareOptions: { color: c1, type: 'extra-rounded' }
        });
    }

    function downloadPNG() {
        qr.download({ name: "Qrestige_vCard", extension: "png" });
    }

    sync();
</script>
</body>
</html>
