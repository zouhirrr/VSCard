<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Qrestige | Smart Business Link</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --brand: #0f172a; --accent: #6366f1; }
        * { box-sizing: border-box; font-family: 'Tajawal', sans-serif !important; }
        body { background: #f1f5f9; margin: 0; display: flex; height: 100vh; }
        .sidebar { width: 380px; background: white; border-left: 1px solid #e2e8f0; padding: 25px; display: flex; flex-direction: column; overflow-y: auto; }
        .logo { font-weight: 900; font-size: 28px; text-align: center; color: var(--brand); margin-bottom: 20px; }
        input { width: 100%; padding: 12px; border-radius: 10px; border: 1.5px solid #f1f5f9; margin-bottom: 10px; outline: none; text-align: right; }
        .label { font-size: 11px; font-weight: 800; color: #94a3b8; margin-bottom: 5px; display: block; }
        .preview { flex: 1; display: flex; align-items: center; justify-content: center; background: #f8fafc; flex-direction: column; }
        #qr-frame { background: white; padding: 40px; border-radius: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.05); }
        .btn { background: var(--brand); color: white; border: none; padding: 15px; border-radius: 12px; font-weight: 700; cursor: pointer; margin-top: 10px; width: 100%; }
        
        /* محاكاة صفحة الهبوط */
        .phone-mockup {
            width: 250px; height: 450px; border: 8px solid #333; border-radius: 30px; 
            background: white; margin-top: 20px; overflow: hidden; display: flex; flex-direction: column; align-items: center; padding: 20px;
        }
        .mock-btn { width: 100%; padding: 8px; margin: 5px; background: #f1f5f9; border-radius: 5px; font-size: 10px; text-align: center; font-weight: bold; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="logo">Qrestige Pro</div>
        
        <span class="label">رابط صفحتك (أو حسابك)</span>
        <input type="text" id="link" placeholder="https://social-card.com/yourname" oninput="update()">
        
        <span class="label">الاسم (للمعاينة فقط)</span>
        <input type="text" id="name" placeholder="محمد علي" oninput="update()">

        <span class="label">ألوان الهوية</span>
        <div style="display:flex; gap:10px;">
            <input type="color" id="c1" value="#0f172a" oninput="update()">
            <input type="color" id="c2" value="#6366f1" oninput="update()">
        </div>

        <button class="btn" onclick="saveImage()">تحميل الكود PNG</button>
        <p style="font-size: 11px; color: #64748b; margin-top: 20px;">* ملاحظة: هذا الكود سيفتح رابطك الشخصي الذي يدعم اللغة العربية 100%.</p>
    </aside>

    <main class="preview">
        <div id="qr-frame">
            <div id="qr-target"></div>
        </div>
        
        <div class="phone-mockup">
            <div style="width: 50px; height: 50px; background: #eee; border-radius: 50%; margin-bottom: 10px;"></div>
            <div id="mock-name" style="font-weight: 900; font-size: 14px;">محمد علي</div>
            <div class="mock-btn" style="background: #25D366; color: white;">واتساب</div>
            <div class="mock-btn" style="background: #E1306C; color: white;">إنستغرام</div>
            <div class="mock-btn" style="background: #0077B5; color: white;">لينكد إن</div>
        </div>
    </main>

<script>
    const qr = new QRCodeStyling({
        width: 300, height: 300,
        dotsOptions: { type: "extra-rounded" },
        backgroundOptions: { color: "#ffffff" },
    });

    qr.append(document.getElementById("qr-target"));

    function update() {
        const url = document.getElementById('link').value || "https://google.com";
        const name = document.getElementById('name').value || "محمد علي";
        const col1 = document.getElementById('c1').value;
        const col2 = document.getElementById('c2').value;

        document.getElementById('mock-name').innerText = name;

        qr.update({
            data: url,
            dotsOptions: { gradient: { type: "linear", colorStops: [{ offset: 0, color: col1 }, { offset: 1, color: col2 }] } },
            cornersSquareOptions: { color: col1 }
        });
    }

    function saveImage() {
        qr.download({ name: "Qrestige_Smart_Link", extension: "png" });
    }

    update();
</script>
</body>
</html>
